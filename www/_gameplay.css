/* ==========================================================================
   #_GAMEPLAY.CSS: FISHING AREA, CONTROLS, BUFFS (FLEX FIT)
   ========================================================================== */
#fishing-area { 
    flex-grow: 1; 
    /* Hilangkan overflow auto di sini, biarkan konten flex menyesuaikan */
    display: flex; 
    flex-direction: column; 
    padding: 10px; 
    background: transparent; 
    align-items: stretch; 
    overflow: hidden; /* Area pancing tidak scroll, hanya visual */
}

#game-visuals { 
    flex-grow: 1; /* Mengisi ruang kosong vertikal */
    display: flex; 
    flex-direction: column; 
    align-items: center; 
    justify-content: center; 
    position: relative;
}

#bobber { 
    font-size: 5rem; color: #ff3d00; 
    filter: drop-shadow(0 4px 0 #b32a00); 
    animation: float 2s infinite ease-in-out; 
    margin-bottom: 20px;
}
@keyframes float { 0%, 100% { transform: translateY(0); } 50% { transform: translateY(-20px); } }

#status-text { 
    margin-bottom: 15px; 
    
    font-size: 1.2rem; 
    font-weight: 900; 
    
    /* GANTI: Status Text Dinamis */
    background: rgba(0, 0, 0, 0.8); 
    color: var(--accent-color, #00d2ff); 
    border: 3px solid var(--accent-color, #00d2ff); 
    box-shadow: 0 0 15px var(--accent-glow, rgba(0,210,255,0.4)); 
    text-shadow: 0 0 10px var(--accent-glow, rgba(0,0,0,0));
    
    padding: 8px 25px; 
    border-radius: 30px; 
    text-transform: uppercase; 
    letter-spacing: 1px;
    
    /* Transisi Halus */
    transition: all 1s ease;
}

#rod-info { 
    text-align: center; font-size: 0.9rem; margin-bottom: 5px; 
    background: rgba(11, 16, 38, 0.9); 
    color: #fff; 
    border: 2px solid var(--accent-color, #00d2ff); 
    box-shadow: 0 4px 10px var(--accent-glow, rgba(0,0,0,0.5));
    display: inline-block; padding: 8px 20px; border-radius: 30px; align-self: center; 
    font-weight: bold; 
    transition: border-color 1s ease, box-shadow 1s ease;
}
#rod-info span#rod-name {
    color: var(--accent-color, #00d2ff);
    transition: color 1s ease;
}

/* Controls - FIX: Gunakan Flex flow, bukan Fixed position di Mobile */
.controls { 
    display: flex; gap: 10px; height: 65px; 
    margin-top: auto; /* Dorong ke paling bawah container */
    margin-bottom: 10px; 
    flex-shrink: 0; 
    width: 100%;
}

#btn-cast { 
    flex: 2; font-size: 1.4rem; font-weight: 900;
    background: #ff0044; color: white; border: none;
    box-shadow: 0 6px 0 #990029; 
    border-radius: 12px; transition: all 0.1s ease;
}
#btn-cast:hover { transform: translateY(-2px); box-shadow: 0 8px 0 #990029; }
#btn-cast:active { transform: translateY(6px); box-shadow: 0 0 0 #990029; }

#btn-auto { 
    flex: 1; font-weight: 800; font-size: 0.9rem;
    background: #2c3e50; color: #fff; border: 2px solid #444;
    box-shadow: 0 6px 0 #1a252f; 
    border-radius: 12px; transition: all 0.1s ease;
}
#btn-auto:hover { transform: translateY(-2px); box-shadow: 0 8px 0 #1a252f; }
#btn-auto:active { transform: translateY(6px); box-shadow: 0 0 0 #1a252f; }

.btn-pull { 
    background: #ff0000 !important; color: white !important; box-shadow: 0 6px 0 #990000 !important; 
    animation: pulsePull 0.5s infinite alternate;
}
@keyframes pulsePull { 0% { transform: scale(1); } 100% { transform: scale(1.05); } }

/* Buff Timers */
#active-buff-container { position: absolute; top: 80px; left: 10px; display: flex; flex-direction: column; gap: 8px; pointer-events: none; z-index: 50; }
.buff-icon { width: 35px; height: 35px; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 0.7rem; border: 3px solid white; box-shadow: 0 4px 10px rgba(0,0,0,0.5); font-weight: 900; text-shadow: 0 0 2px black; background: #2ecc71; color: #fff; }

/* Event Particles */
.event-crystal { 
    position: absolute; top: -50px; color: #fff; text-shadow: 0 0 5px #00d2ff; 
    opacity: 0.8; animation-name: fall; animation-timing-function: linear; animation-iteration-count: infinite; 
}
.crystal-small { font-size: 0.8rem; opacity: 0.5; z-index: 1; filter: blur(1px); } 
.crystal-medium { font-size: 1.5rem; opacity: 0.8; z-index: 2; } 
.crystal-large { font-size: 2.5rem; opacity: 1; z-index: 3; text-shadow: 0 0 15px #00d2ff; }
@keyframes fall { 
    from { transform: translateY(0) rotate(0deg); } 
    to { transform: translateY(110vh) rotate(360deg); } 
}

/* ==========================================================================
   #PC / DESKTOP MODE (GAMEPLAY CONTROLS FIX)
   ========================================================================== */
@media (min-width: 768px) {
    /* NAIKKAN TOMBOL KONTROL DI ATAS NAV BAR */
    .controls {
        position: fixed; 
        bottom: 140px !important; /* Di atas Nav Bar yg tingginya ~100px */
        left: 50%;
        transform: translateX(-50%);
        width: 100%;
        max-width: 600px; /* Batasi lebarnya biar enak dilihat */
        gap: 20px;
        z-index: 60;
        margin-bottom: 0;
    }
    
    .controls button {
        padding: 15px 30px; 
        font-size: 1.3rem; 
        border-radius: 15px;
    }

    #bobber { font-size: 8rem; }
    #status-text { font-size: 1.5rem; padding: 15px 40px; margin-top: 40px; }
    #rod-info { margin-top: 100px; font-size: 1rem; padding: 8px 25px; }
    #active-buff-container { top: 150px; left: 50px; }
}